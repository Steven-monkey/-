<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input id="rows" placeholder="请输入行" />
    <input id="cols" placeholder="请输入列" />
    <button id="btn">生成</button>
    <table id="tb" border="1">
    </table>
    <script>
        window.onload = function () {
            var oRows = document.getElementById('rows');
            var oCols = document.getElementById('cols');
            var oBtn = document.getElementById('btn');
            var oTb = document.getElementById('tb');
            /*
              给行标签的删除按钮添加删除事件
              使用到了事件委托
               找到父节点   ---》 oTb
               将事件添加给父节点
               判断是否该触发点是我们要的触发点
             */


            oBtn.onclick = function () {
                if (!oRows.value || !oCols.value) {
                    alert('请输入行和列，谢谢，傻逼');
                } else {
                    //控制生成行
                    for (var i = 0; i < oRows.value; i++) {
                        //创建行节点
                        var oTr = document.createElement('tr');

                        //控制生成列
                        for (var j = 0; j < oCols.value; j++) {
                            //创建列节点
                            var oTd = document.createElement('td');
                            //给每一个格子都添加颜色随机
                            // oTd.style.backgroundColor = randomColor();
                            oTd.style.border = "1px"
                            //列添加到行节点去
                            oTr.appendChild(oTd);
                        }
                        //添加背景颜色

                        //通过class样式添加
                        oTr.className = 'box' + (i % 2);
                        //创建一个按钮
                        var oBtn1 = document.createElement('td');
                        //按钮是删除作用
                        oBtn1.innerHTML = '<button>删除</button>';
                        oTr.appendChild(oBtn1);
                        //行添加到tale里去
                        oTb.appendChild(oTr);
                    }
                }
            }
            oTb.onclick = function (ev) {
                var e = ev || window.event;
                var target = e.target || window.event.srcElement;
                if (target.nodeName.toLowerCase() == 'button') {
                    //由于我们target的的父节点是td；但是我们要删除的是td的父节点tr；
                    //所以这里使用两个parentNode
                    //这个代码可以删除所有代码，但全部删除
                    // oTb.remove(oTb)
                    oTb.removeChild(target.parentNode.parentNode);
                    // console.log(target);
                }
            }
        }
    </script>
</body>

</html>